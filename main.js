!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"showProjectForm",(function(){return h})),n.d(t,"projects",(function(){return f}));var o=(e,t,n,o)=>({name:e,description:t,date:n,priority:o,toList:()=>[e,t,n,o]});var r=(e,t,n)=>({name:e,description:t,todos:n});function l(e){let t=document.createElement("div");t.classList="todo";let n=document.createElement("span"),o=document.createElement("span"),r=document.createElement("span"),l=document.createElement("span"),c=document.createElement("i");c.className="fa fa-check-circle",c.addEventListener("click",s),l.className="fa fa-circle",n.innerHTML=e.name,o.innerHTML=e.description,r.innerHTML=e.date;l.style.color={high:"red",medium:"yellow",low:"lightgreen"}[e.priority],t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(l),t.appendChild(c),document.getElementById("todo-list").insertBefore(t,document.getElementById("addtodoicon"))}function c(e){let t=document.getElementById("project-list"),n=document.createElement("div");n.innerHTML=e.name,n.addEventListener("click",i);let o=document.createElement("i");return o.className="fa fa-close",o.style.color="gainsboro",o.addEventListener("click",m),n.appendChild(o),t.appendChild(n),n}let d=null;function a(e){console.log("adding");let t=e.value,n=document.getElementById("addprojicon");if(t.length>0&&!function(e){for(let t=0;t<f.length;t++)if(console.log(f[t].name),e==f[t].name)return!0;return!1}(t)){const e=r(t,"",new Array);f.push(e),c(e)}else n.classList.add("shake");e.parentNode.removeChild(e),n.parentNode.replaceChild(n.cloneNode(!0),n),n=document.getElementById("addprojicon"),n.style.color="",n.addEventListener("click",h)}function i(e){console.log("selecting");const t=document.getElementsByClassName("active-project")[0];let n;n=e.currentTarget?e.currentTarget:e,d!=f[p(n)]&&(t&&t.classList.remove("active-project"),n.classList.add("active-project"),d=f[p(n)],console.log(d),function(e){let t=document.getElementById("todo-list"),n=document.getElementById("addtodoicon");t.innerHTML="";for(let t=0;t<e.todos.length;t++)l(e.todos[t]);t.appendChild(n)}(d))}function s(e){let t=e.currentTarget.parentNode;t.style.textDecoration="line-through",t.childNodes[3].style.color="gray",e.currentTarget.style.color="lightgreen",e.currentTarget.removeEventListener("click",s),e.currentTarget.addEventListener("click",u)}function u(e){let t=e.currentTarget.parentNode;d.todos.splice(p(t),1),t.parentNode.removeChild(t),g()}function m(e){let t=e.currentTarget.parentNode;t.childNodes[1].removeEventListener("click",i),t.parentNode.removeChild(t),f.splice(p(t),1),f.length>0?g():window.localStorage.clear()}function p(e){let t=0;for(;e=e.previousElementSibling;t++);return console.log("index: "+t),t}function g(){window.localStorage.clear(),window.localStorage.setItem("projects",JSON.stringify(f))}let f=[];function h(e){console.log("showing form");let t=e.currentTarget,n=document.createElement("input");n.style.border="none",n.style.borderBottom="1px solid gray",n.placeholder="Name",n.addEventListener("keyup",e=>{13===event.keyCode&&(event.preventDefault(),a(n))}),document.getElementById("project-list").appendChild(n),t.style.color="lightgreen",t.parentNode.replaceChild(t.cloneNode(!0),t),t=document.getElementById("addprojicon"),t.classList.remove("shake"),t.addEventListener("click",e=>{a(n)})}window.showTodoForm=function(e){if(!d)return void e.classList.add("shake");e.classList.remove("shake");let t=document.createElement("div");t.className="todo";let n=[];n[0]=document.createElement("input"),n[0].placeholder="name",n[1]=document.createElement("textarea"),n[1].placeholder="description",n[2]=document.createElement("input"),n[2].type="date",n[3]=document.createElement("select");const r=["high","medium","low"];for(let e=0;e<r.length;e++){const t=document.createElement("option");t.value=r[e],t.innerHTML=r[e],console.log(t.value),n[3].appendChild(t)}n[3].value="medium",n[4]=document.createElement("button"),n[4].value="Save",n[4].className="save-button",n[4].innerHTML="Save",n[4].addEventListener("click",e=>{!function(e){let t=[];for(let n=0;n<e.childNodes.length-1;n++)t[n]=e.childNodes[n].value;let n=o(t[0],t[1],t[2],t[3]);d.todos.push(n),e.parentNode.removeChild(e),g(),l(n),console.log(t)}(t)});for(let e=0;e<n.length;e++)t.appendChild(n[e]);document.getElementById("todo-list").insertBefore(t,document.getElementById("addtodoicon"))},window.clearstorage=e=>{console.log("Storage cleared"),window.localStorage.clear()},function(){const e=document.querySelector("nav");let t=document.createElement("i");if(t.className="fa fa-plus-circle",t.id="addprojicon",t.addEventListener("click",h),e.appendChild(t),window.localStorage.getItem("projects")){let e;console.log("local storage found"),f=JSON.parse(window.localStorage.getItem("projects"));for(let t=0;t<f.length;t++)e=c(f[t]);i(e)}}()}]);