!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"showProjectForm",(function(){return E})),n.d(t,"projects",(function(){return y}));const o=(e,t,n,o)=>{let l=document.createElement("div");l.className="todo";let r=[];r[0]=document.createElement("input"),r[0].placeholder="name",e&&(r[0].value=e),r[1]=document.createElement("textarea"),r[1].placeholder="description",t&&(r[1].value=t),r[2]=document.createElement("input"),r[2].type="date",n&&(r[2].value=n),r[3]=document.createElement("select");const c=["high","medium","low"];for(let e=0;e<c.length;e++){const t=document.createElement("option");t.value=c[e],t.innerHTML=c[e],console.log(t.value),r[3].appendChild(t)}r[3].value=o||"medium",r[4]=document.createElement("button"),r[4].value="Save",r[4].className="save-button",r[4].innerHTML="Save";for(let e=0;e<r.length;e++)l.appendChild(r[e]);return l};var l=(e,t,n)=>({name:e,description:t,todos:n});function r(e,t){let n=document.createElement("div");n.classList="todo";let o=document.createElement("span"),l=document.createElement("span"),r=document.createElement("span"),c=document.createElement("span"),d=document.createElement("div"),a=document.createElement("i");a.className="fa fa-check-circle",a.addEventListener("click",m);let i=document.createElement("i");i.className="fa fa-pencil",i.addEventListener("click",g),o.innerHTML=e.name,l.innerHTML=e.description,r.innerHTML=e.date,c.className="fa fa-circle",d.id="todo-options";c.style.color={high:"red",medium:"yellow",low:"lightgreen"}[e.priority],d.appendChild(i),d.appendChild(a),n.appendChild(o),n.appendChild(l),n.appendChild(r),n.appendChild(c),n.appendChild(d);let s=document.getElementById("todo-list");t?s.replaceChild(n,t):(s.insertBefore(n,document.getElementById("addtodoicon")),console.log("inserting todo")),console.log(e.name+"completed: "+e.isCompleted),e.isCompleted&&a.click()}function c(e){let t=document.getElementById("project-list"),n=document.createElement("div");n.innerHTML=e.name,n.addEventListener("click",u);let o=document.createElement("i");return o.className="fa fa-close",o.style.color="gainsboro",o.addEventListener("click",f),n.appendChild(o),t.appendChild(n),n}function d(e){let t=document.getElementById("todo-list"),n=document.getElementById("addtodoicon");t.innerHTML="";for(let t=0;t<e.todos.length;t++)r(e.todos[t]);t.appendChild(n)}let a=null;function i(e){const t=e.currentTarget.parentNode;let n=[];for(let e=0;e<t.childNodes.length-1;e++)n[e]=t.childNodes[e].value;let o=(l=n[0],c=n[1],d=n[2],i=n[3],{name:l,description:c,date:d,priority:i,toList:()=>[l,c,d,i],isCompleted:!1});var l,c,d,i;a.todos.push(o),r(o,t),h(),console.log(n)}function s(e){console.log("adding");let t=e.value,n=document.getElementById("addprojicon");if(t.length>0&&!function(e){for(let t=0;t<y.length;t++)if(console.log(y[t].name),e==y[t].name)return!0;return!1}(t)){const e=l(t,"",new Array);y.push(e),c(e)}else n.classList.add("shake");e.parentNode.removeChild(e),n.parentNode.replaceChild(n.cloneNode(!0),n),n=document.getElementById("addprojicon"),n.style.color="",n.addEventListener("click",E)}function u(e){console.log("selecting");const t=document.getElementsByClassName("active-project")[0];let n;n=e.currentTarget?e.currentTarget:e,a!=y[v(n)]&&(t&&t.classList.remove("active-project"),n.classList.add("active-project"),a=y[v(n)],console.log(a),d(a))}function m(e){let t=e.currentTarget.parentNode;t.style.textDecoration="line-through",t.childNodes[3].style.color="gray",e.currentTarget.style.color="lightgreen",e.currentTarget.removeEventListener("click",m),e.currentTarget.addEventListener("click",p),a.todos[v(t)].isCompleted=!0,console.log("completed")}function p(e){let t=e.currentTarget.parentNode;a.todos.splice(v(t),1),t.parentNode.removeChild(t),h()}function g(e){console.log("editing");let t=e.currentTarget.parentNode.parentNode,n=[];for(let e=0;e<3;e++)n[e]=t.childNodes[e].innerHTML;console.log(n);const l=o(n[0],n[1],n[2],n[3]);l.querySelector(".save-button").addEventListener("click",i),t.parentNode.replaceChild(l,t)}function f(e){e.cancelBubble=!0;let t=e.currentTarget.parentNode;const n=v(t);a===y[n]&&(a=null,d(l("","",new Array))),console.log("Removing: "+y[n].name),y.splice(v(t),1),t.parentNode.removeChild(t),y.length>0?h():window.localStorage.clear()}function v(e){let t=0;for(;e=e.previousElementSibling;t++);return console.log("index: "+t),t}function h(){window.localStorage.clear(),window.localStorage.setItem("projects",JSON.stringify(y))}let y=[];function E(e){console.log("showing form");let t=e.currentTarget,n=document.createElement("input");n.style.border="none",n.style.borderBottom="1px solid gray",n.placeholder="Name",n.addEventListener("keyup",e=>{13===event.keyCode&&(event.preventDefault(),s(n))}),document.getElementById("project-list").appendChild(n),t.style.color="lightgreen",t.parentNode.replaceChild(t.cloneNode(!0),t),t=document.getElementById("addprojicon"),t.classList.remove("shake"),t.addEventListener("click",e=>{s(n)})}window.showTodoForm=function(e){if(!a)return void e.classList.add("shake");e.classList.remove("shake");const t=o();t.querySelector(".save-button").addEventListener("click",i);document.getElementById("todo-list").insertBefore(t,document.getElementById("addtodoicon"))},window.clearstorage=e=>{console.log("Storage cleared"),window.localStorage.clear()},function(){const e=document.querySelector("nav");let t=document.createElement("i");if(t.className="fa fa-plus-circle",t.id="addprojicon",t.addEventListener("click",E),e.appendChild(t),window.localStorage.getItem("projects")){let e;console.log("local storage found"),y=JSON.parse(window.localStorage.getItem("projects"));for(let t=0;t<y.length;t++)e=c(y[t]);u(e)}}()}]);